\hypertarget{elevatorLogic_8h}{}\section{source/elevator\+Logic.h File Reference}
\label{elevatorLogic_8h}\index{source/elevator\+Logic.\+h@{source/elevator\+Logic.\+h}}


Functions that decide what the elevetaor will do at a given time and state.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include \char`\"{}hardware.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}timer.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}variables.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}help\+Functions.\+h\char`\"{}}\newline
Include dependency graph for elevator\+Logic.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{elevatorLogic_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=292pt]{elevatorLogic_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{elevatorLogic_8h_a5b7e520dd3634bc511e199023a2a4ad5}\label{elevatorLogic_8h_a5b7e520dd3634bc511e199023a2a4ad5}} 
void \hyperlink{elevatorLogic_8h_a5b7e520dd3634bc511e199023a2a4ad5}{initialize\+Elevator} ()
\begin{DoxyCompactList}\small\item\em Resets lights, and drives down until the elevator reaches a floor sensor. Saves this floor as {\ttfamily F\+L\+O\+O\+R.\+current} and {\ttfamily F\+L\+O\+O\+R.\+last}. \end{DoxyCompactList}\item 
int \hyperlink{elevatorLogic_8h_acb58ac12f71a53ca9d454ea0bef0859c}{check\+If\+Stop} ()
\begin{DoxyCompactList}\small\item\em When the elevator is moving and reaches a floor, the floor indicator lights up, {\ttfamily F\+L\+O\+O\+R.\+last} is set, and it decides whether or not to stop at this floor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{elevatorLogic_8h_a0348ac8c5f50ff4dd510de9905f5d858}\label{elevatorLogic_8h_a0348ac8c5f50ff4dd510de9905f5d858}} 
void \hyperlink{elevatorLogic_8h_a0348ac8c5f50ff4dd510de9905f5d858}{arrive\+Floor} ()
\begin{DoxyCompactList}\small\item\em As long as the {\ttfamily has\+Just\+Left} flag is not set, this function stops the elevator, starts the timer, open the door, and deletes the order to the current floor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{elevatorLogic_8h_a8259fdde833753b6f23004be29dbb56c}\label{elevatorLogic_8h_a8259fdde833753b6f23004be29dbb56c}} 
void \hyperlink{elevatorLogic_8h_a8259fdde833753b6f23004be29dbb56c}{leave\+Floor} ()
\begin{DoxyCompactList}\small\item\em When the timer reaches 3 seconds and the elevator is not moving, the door is closed and new orders are looked for using {\ttfamily \hyperlink{elevatorLogic_8h_a949e2c521323a4e0d2c37c79c275def5}{update\+Direction()}}. \end{DoxyCompactList}\item 
void \hyperlink{elevatorLogic_8h_a949e2c521323a4e0d2c37c79c275def5}{update\+Direction} ()
\begin{DoxyCompactList}\small\item\em Prioritizes what direction the elevator should go, given {\ttfamily D\+I\+R\+E\+C\+T\+I\+O\+N.\+current}. If the elevator is not moving, {\ttfamily D\+I\+R\+E\+C\+T\+I\+O\+N.\+last} is used to determine which orders to prioritize. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{elevatorLogic_8h_a98ff2b0015e3c6361fdeec413d689f30}\label{elevatorLogic_8h_a98ff2b0015e3c6361fdeec413d689f30}} 
void \hyperlink{elevatorLogic_8h_a98ff2b0015e3c6361fdeec413d689f30}{set\+Orders\+And\+Order\+Lights} ()
\begin{DoxyCompactList}\small\item\em Polls all order buttons, and sets {\ttfamily M\+A\+S\+T\+E\+R\+\_\+\+M\+A\+T\+R\+IX} and the corresponding light if any buttons are pushed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{elevatorLogic_8h_a19e50b36bc41e271ad3d4e4ac86bb9c3}\label{elevatorLogic_8h_a19e50b36bc41e271ad3d4e4ac86bb9c3}} 
void \hyperlink{elevatorLogic_8h_a19e50b36bc41e271ad3d4e4ac86bb9c3}{stop\+Function} ()
\begin{DoxyCompactList}\small\item\em Stops the elevator, sets {\ttfamily has\+Stopped} to 1 and flushes all orders. If the elevator is at a floor, the door is opened. Sets the stoplight. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{elevatorLogic_8h_af80114ed5f35a4a3facbf60811b46821}\label{elevatorLogic_8h_af80114ed5f35a4a3facbf60811b46821}} 
void \hyperlink{elevatorLogic_8h_af80114ed5f35a4a3facbf60811b46821}{has\+Stopped\+Function} ()
\begin{DoxyCompactList}\small\item\em If the elevator has stopped between two floors, this function determines these two floors and calls {\ttfamily \hyperlink{elevatorLogic_8h_a949e2c521323a4e0d2c37c79c275def5}{update\+Direction()}} with the result as the two parameters. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{elevatorLogic_8h_a629b2358b6d36a8f0312246b38c962eb}\label{elevatorLogic_8h_a629b2358b6d36a8f0312246b38c962eb}} 
void \hyperlink{elevatorLogic_8h_a629b2358b6d36a8f0312246b38c962eb}{check\+For\+Orders\+On\+Current\+Floor} ()
\begin{DoxyCompactList}\small\item\em If the elevator is ordered at its {\ttfamily F\+L\+O\+O\+R.\+current}, {\ttfamily \hyperlink{elevatorLogic_8h_a0348ac8c5f50ff4dd510de9905f5d858}{arrive\+Floor()}} is called. \end{DoxyCompactList}\item 
int \hyperlink{elevatorLogic_8h_a59e7425ac35298bb95a7c2d224a87d98}{check\+For\+Obstruction} ()
\begin{DoxyCompactList}\small\item\em Determines wheter the obstruction switch should have any effect. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions that decide what the elevetaor will do at a given time and state. 



\subsection{Function Documentation}
\mbox{\Hypertarget{elevatorLogic_8h_a59e7425ac35298bb95a7c2d224a87d98}\label{elevatorLogic_8h_a59e7425ac35298bb95a7c2d224a87d98}} 
\index{elevator\+Logic.\+h@{elevator\+Logic.\+h}!check\+For\+Obstruction@{check\+For\+Obstruction}}
\index{check\+For\+Obstruction@{check\+For\+Obstruction}!elevator\+Logic.\+h@{elevator\+Logic.\+h}}
\subsubsection{\texorpdfstring{check\+For\+Obstruction()}{checkForObstruction()}}
{\footnotesize\ttfamily int check\+For\+Obstruction (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Determines wheter the obstruction switch should have any effect. 

\begin{DoxyReturn}{Returns}
1 if the obstruction switch should affect the elevator, 0 if not. 
\end{DoxyReturn}


Definition at line 147 of file elevator\+Logic.\+c.

\mbox{\Hypertarget{elevatorLogic_8h_acb58ac12f71a53ca9d454ea0bef0859c}\label{elevatorLogic_8h_acb58ac12f71a53ca9d454ea0bef0859c}} 
\index{elevator\+Logic.\+h@{elevator\+Logic.\+h}!check\+If\+Stop@{check\+If\+Stop}}
\index{check\+If\+Stop@{check\+If\+Stop}!elevator\+Logic.\+h@{elevator\+Logic.\+h}}
\subsubsection{\texorpdfstring{check\+If\+Stop()}{checkIfStop()}}
{\footnotesize\ttfamily int check\+If\+Stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



When the elevator is moving and reaches a floor, the floor indicator lights up, {\ttfamily F\+L\+O\+O\+R.\+last} is set, and it decides whether or not to stop at this floor. 

\begin{DoxyReturn}{Returns}
0 if the elevator is to drive past the floor. 1 to stop. 
\end{DoxyReturn}


Definition at line 25 of file elevator\+Logic.\+c.

\mbox{\Hypertarget{elevatorLogic_8h_a949e2c521323a4e0d2c37c79c275def5}\label{elevatorLogic_8h_a949e2c521323a4e0d2c37c79c275def5}} 
\index{elevator\+Logic.\+h@{elevator\+Logic.\+h}!update\+Direction@{update\+Direction}}
\index{update\+Direction@{update\+Direction}!elevator\+Logic.\+h@{elevator\+Logic.\+h}}
\subsubsection{\texorpdfstring{update\+Direction()}{updateDirection()}}
{\footnotesize\ttfamily void update\+Direction (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Prioritizes what direction the elevator should go, given {\ttfamily D\+I\+R\+E\+C\+T\+I\+O\+N.\+current}. If the elevator is not moving, {\ttfamily D\+I\+R\+E\+C\+T\+I\+O\+N.\+last} is used to determine which orders to prioritize. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em any\+Orders\+Above} & lets the function know whether the elevator has an order above or not. \\
\hline
\mbox{\tt in}  & {\em any\+Ordersbelow} & lets the function know whether the elevator has an order below or not. \\
\hline
\end{DoxyParams}
